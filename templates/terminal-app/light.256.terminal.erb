<%
bplist = "bplist00\xD4\x01\x02\x03\x04\x05\x06\x15\x16X$versionX$objectsY"\
         "$archiverT$top\x12\x00\x01\x86\xA0\xA3\a\b\x0FU$null\xD3\t\n\v\f"\
         "\r\x0EUNSRGB\\NSColorSpaceV$classO\x10,%.10f %.10f %.10f %.2f\x00"\
         "\x10\x02\x80\x02\xD2\x10\x11\x12\x13Z$classnameX$classesWNSColor"\
         "\xA2\x12\x14XNSObject_\x10\x0FNSKeyedArchiver\xD1\x17\x18Troot"\
         "\x80\x01\b\x11\x1A#-27;AHN[b\x91\x93\x95\x9A\xA5\xAE\xB6\xB9\xC2"\
         "\xD4\xD7\xDC\x00\x00\x00\x00\x00\x00\x01\x01\x00\x00\x00\x00\x00"\
         "\x00\x00\x19\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00"\
         "\x00\x00\xDE"

color_keys = {
    'ANSIBlackColor' => '00',
    'ANSIRedColor' => '08',
    'ANSIGreenColor' => '0B',
    'ANSIYellowColor' => '0A',
    'ANSIBlueColor' => '0D',
    'ANSIMagentaColor' => '0E',
    'ANSICyanColor' => '0C',
    'ANSIWhiteColor' => '05',

    'ANSIBrightBlackColor' => '03',
    'ANSIBrightRedColor' => '08',
    'ANSIBrightGreenColor' => '0B',
    'ANSIBrightYellowColor' => '0A',
    'ANSIBrightBlueColor' => '0D',
    'ANSIBrightMagentaColor' => '0E',
    'ANSIBrightCyanColor' => '0C',
    'ANSIBrightWhiteColor' => '07',

    'BackgroundColor' => '07',
    'CursorColor' => '02',
    'SelectionColor' => '05',
    'TextBoldColor' => '02',
    'TextColor' => '02',
}

%><?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN"
    "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>name</key>
	<string><%= @scheme %></string>

	<key>type</key>
	<string>Window Settings</string>

	<key>UseBrightBold</key>
	<false/>
<% color_keys.each do |name, hex| %>
        <key><%= name %></key>
	<data>
        <%= Base64.encode64(sprintf(bplist,
                                    @base[hex]["srgb"][0],
                                    @base[hex]["srgb"][1],
                                    @base[hex]["srgb"][2],
                                    1)
                           ).gsub("\n", "\n\t").strip %>
	</data>
<% end %>
</dict>
</plist>
